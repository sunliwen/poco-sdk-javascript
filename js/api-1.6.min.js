function pCallback(){}!function(e){function t(e){var t=document.createElement("script");t.src=e,t.charset="utf-8",t.async=!0;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(t,r)}function r(e,t,r){this.shared_params={},this.requests=[],this.debug=r,this.api_key=e,this.url_prefix=void 0===t||null===t?"http://search.tuijianbao.net/api/v1.6":t}r.prototype.getUrlArgs=function(e,t){var r={"##api_key":this.api_key,"##callback":t,"##format":"jsonp"};for(var s in this.requests)for(var i in e)r["##"+i]=e[i];for(var i in this.shared_params)"##"==i.substring(0,2)&&(r[i]=this.shared_params[i]);return r},r.prototype.getFullUrl=function(e,t,r){var s=this.getUrlArgs(t,r);console.log(s);var i="";for(var n in s)"##"==n.substring(0,2)&&(i+="&"+n.substring(2)+"="+encodeURIComponent(s[n]));return 1==debug&&(i+="&debug=true"),"events"==e?this.url_prefix+"/public/events/?"+i:"recommender"==e?this.url_prefix+"/public/recommender/?"+i:void 0},r.prototype.addSharedParams=function(e,t){this.shared_params["##"+e]=t},r.prototype.addEvent=function(e){this.requests.push(["events",e])},r.prototype.addRecommender=function(e){this.requests.push(["recommender",e])},r.prototype.invoke=function(e){for(var r in this.requests){var s=this.requests[r][0],i=this.requests[r][1],n=this.getFullUrl(s,i,e);t(n+"&"+(new Date).getTime())}},e._poco=r}(window);